<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Albert的博客</title>
  
  <subtitle>相逢一醉是前缘，风雨散，飘然何处。</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://guowupeng.com/"/>
  <updated>2017-12-09T12:47:33.262Z</updated>
  <id>http://guowupeng.com/</id>
  
  <author>
    <name>Albert</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Zend Guard Run-time support missing!</title>
    <link href="http://guowupeng.com/2017/09/20/Zend%E5%8A%A0%E5%AF%86%E9%97%AE%E9%A2%98/"/>
    <id>http://guowupeng.com/2017/09/20/Zend加密问题/</id>
    <published>2017-09-20T07:22:42.000Z</published>
    <updated>2017-12-09T12:47:33.262Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Zend Guard Run-time support missing!</p><p>Zend Guard运行时支持的缺失！</p><p>下载相关版本的<a href="http://www.zend.com/en/products/loader/thank-you-zend-loader?package=4743" target="_blank" rel="external">Zend Guard官网</a></p><a id="more"></a><p>下载好后解压压缩包，找到目录下的 ZendLoader.dll 文件，将它放到你的php目录下ext下，再编辑php.ini文件，添加一段代码（如）：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[Zend.loader]</div><div class="line">zend_loader.enable=1</div><div class="line">zend_loader.disable_licensing=1</div><div class="line">zend_loader.obfuscation_level_support=3</div><div class="line">zend_loader.license_path=</div><div class="line">zend_extension=<span class="string">"你的PHP安装目录\ext\ZendLoader.dll"</span></div></pre></td></tr></table></figure></p><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">zend guard loader只支持NTS的版本，意味着如果你的php版本是TS的话，就没法使用zend guard loader了，如果你想查看自己的php是ts还是nts的，只需要输出phpinfo，然后搜索下：Thread Safety，disabled对应nts版本，否则为ts。</div><div class="line">因此，终极解决办法就是，下载个php NTS版本进行安装即可。</div></pre></td></tr></table></figure><!--more-->]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;Zend Guard Run-time support missing!&lt;/p&gt;
&lt;p&gt;Zend Guard运行时支持的缺失！&lt;/p&gt;
&lt;p&gt;下载相关版本的&lt;a href=&quot;http://www.zend.com/en/products/loader/thank-you-zend-loader?package=4743&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Zend Guard官网&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="笔记" scheme="http://guowupeng.com/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="随笔" scheme="http://guowupeng.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>更改Ubuntu默认python版本的两种方法</title>
    <link href="http://guowupeng.com/2017/07/25/%E6%9B%B4%E6%94%B9Ubuntu%E9%BB%98%E8%AE%A4python%E7%89%88%E6%9C%AC%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E6%B3%95/"/>
    <id>http://guowupeng.com/2017/07/25/更改Ubuntu默认python版本的两种方法/</id>
    <published>2017-07-25T02:53:18.000Z</published>
    <updated>2017-09-21T02:00:27.785Z</updated>
    
    <content type="html"><![CDATA[<hr><p>使用 ls 命令来查看系统中都有那些 Python 的二进制文件可供使用<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">'ls /usr/bin/python*'</span></div></pre></td></tr></table></figure></p><p>查看默认的 Python 版本信息<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">'python --version'</span></div></pre></td></tr></table></figure></p><a id="more"></a><p>在系统级修改 Python 版本</p><p>使用 update-alternatives 来为整个系统更改 Python 版本。以 root 身份登录，首先罗列出所有可用的 python 替代版本信息<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">'update-alternatives --list python'</span></div></pre></td></tr></table></figure></p><p>将 python2.7 和 python3.5 放入其中<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="string">'update-alternatives --install /usr/bin/python python /usr/bin/python2.7 1'</span></div><div class="line"><span class="string">'update-alternatives --install /usr/bin/python python /usr/bin/python3.5 2'</span></div><div class="line"><span class="comment">#【--install 选项使用了多个参数用于创建符号链接。最后一个参数指定了此选项的优先级，如果我们没有手动来设置替代选项，那么具有最高优先级的选项就会被选中】</span></div></pre></td></tr></table></figure></p><p>列出可用的 Python 替代版本<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">'update-alternatives --list python'</span></div></pre></td></tr></table></figure></p><p>使用下方的命令随时在列出的 Python 替代版本中任意切换<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">'update-alternatives --config python'</span></div></pre></td></tr></table></figure></p><p>移除替代版本<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">'update-alternatives --remove python /usr/bin/python2.7'</span></div></pre></td></tr></table></figure></p><!--more-->]]></content>
    
    <summary type="html">
    
      &lt;hr&gt;
&lt;p&gt;使用 ls 命令来查看系统中都有那些 Python 的二进制文件可供使用&lt;br&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&#39;ls /usr/bin/python*&#39;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;查看默认的 Python 版本信息&lt;br&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&#39;python --version&#39;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="笔记" scheme="http://guowupeng.com/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="随笔" scheme="http://guowupeng.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>Git学习笔记</title>
    <link href="http://guowupeng.com/2017/07/21/git%E9%9A%8F%E7%AC%94/"/>
    <id>http://guowupeng.com/2017/07/21/git随笔/</id>
    <published>2017-07-21T02:43:53.000Z</published>
    <updated>2017-12-09T12:48:33.333Z</updated>
    
    <content type="html"><![CDATA[<h2 id="在Liunx上安装Git"><a href="#在Liunx上安装Git" class="headerlink" title="在Liunx上安装Git"></a>在Liunx上安装Git</h2><p>Ubuntu安装:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install git</div></pre></td></tr></table></figure></p><p>Centos安装:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo yum install git</div></pre></td></tr></table></figure></p><h2 id="在Windows上安装Git"><a href="#在Windows上安装Git" class="headerlink" title="在Windows上安装Git"></a>在Windows上安装Git</h2><p>前往<a href="https://git-for-windows.github.io/" target="_blank" rel="external">git Download</a>下载</p><p>安装完成后，在开始菜单里找到“Git”-&gt;“Git Bash”，在命令行输入:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git config --global user.name <span class="string">"your name"</span></div><div class="line">$ git config --global user.email <span class="string">"email@example.com"</span></div></pre></td></tr></table></figure><a id="more"></a><h2 id="Git-常用命令速查表"><a href="#Git-常用命令速查表" class="headerlink" title="Git 常用命令速查表"></a>Git 常用命令速查表</h2><p><img src="/assets/images/git.jpg" alt="Git常用命令速查表"></p><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><h3 id="创建版本库"><a href="#创建版本库" class="headerlink" title="创建版本库"></a>创建版本库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ mkdir sugar</div><div class="line">$ <span class="built_in">cd</span> sugar</div><div class="line">$ <span class="built_in">pwd</span>(用于显示当前目录)</div></pre></td></tr></table></figure><h3 id="通过git-init-命令把目录变成Git可以管理的仓库"><a href="#通过git-init-命令把目录变成Git可以管理的仓库" class="headerlink" title="通过git init 命令把目录变成Git可以管理的仓库"></a>通过git init 命令把目录变成Git可以管理的仓库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git init</div></pre></td></tr></table></figure><h3 id="把文件添加到版本库"><a href="#把文件添加到版本库" class="headerlink" title="把文件添加到版本库"></a>把文件添加到版本库</h3><h4 id="编写文件-vi-readme-txt"><a href="#编写文件-vi-readme-txt" class="headerlink" title="编写文件(vi  readme.txt)"></a>编写文件(vi  readme.txt)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">    Git is a version control system.</div><div class="line">    Git is free software.</div><div class="line">```bash</div><div class="line"><span class="comment">#### 用命令git add &lt;file&gt;将文件添加到仓库</span></div><div class="line">```bash</div><div class="line">    git add  readme.txt</div><div class="line">    注：git add &lt;file&gt; &lt;file&gt;可反复多次使用，添加多个文件</div></pre></td></tr></table></figure><h4 id="用命令git-commit-将文件提交到仓库"><a href="#用命令git-commit-将文件提交到仓库" class="headerlink" title="用命令git commit 将文件提交到仓库"></a>用命令git commit 将文件提交到仓库</h4><p>&gt;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git commit -m <span class="string">"wrote a  readme file"</span></div><div class="line">注：-m后面输入的是本次提交的说明</div></pre></td></tr></table></figure></p><h3 id="掌握工作区的状态"><a href="#掌握工作区的状态" class="headerlink" title="掌握工作区的状态"></a>掌握工作区的状态</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">1.使用git status命令查看仓库当前的状态</div><div class="line">2.使用git diff(或git diff HEAD -- file)可以查看工作区和版本库里最新版本的区别</div></pre></td></tr></table></figure><h3 id="版本回退"><a href="#版本回退" class="headerlink" title="版本回退"></a>版本回退</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">1.使用git <span class="built_in">log</span>查看提交历史</div><div class="line">【注：git <span class="built_in">log</span> --pretty=oneline(或git <span class="built_in">log</span> --oneline)可减少信息显示】</div><div class="line">2.git reset --hard HEAD(当前版本),git reset --hard HEAD^(回退到上一个版本)</div><div class="line">【注：HEAD指向的版本就是当前版本,因此,可以使用命令git reset --hard commit_id在版本的历史之间穿梭;且往上100个版本可写成HEAD~100】</div><div class="line">3.使用git reflog查看命令历史</div></pre></td></tr></table></figure><h3 id="撤销修改"><a href="#撤销修改" class="headerlink" title="撤销修改"></a>撤销修改</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">使用git checkout -- file丢弃工作区的修改</div><div class="line">使用git reset HEAD file可以把暂存区的修改撤销掉(unstage)，重新放回工作区</div><div class="line">【注：撤销修改前提是没有推送到远程库】</div></pre></td></tr></table></figure><h3 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">使用rm file命令删除文件</div><div class="line">注意：1.确实要从版本库中删除该文件,用命令git rm file删掉,并且git commit</div><div class="line">      2.误删文件恢复到最新版本git checkout -- file</div></pre></td></tr></table></figure><h3 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h3><h4 id="创建SSH-Key"><a href="#创建SSH-Key" class="headerlink" title="创建SSH Key"></a>创建SSH Key</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ ssh-keygen -t rsa -C <span class="string">"youremail@example.com（自己的邮箱地址）"</span>,接下来点击enter键即可（也可以输入密码）</div><div class="line">在Key文本框里粘贴id_rsa.pub文件的内容</div><div class="line">(注：在用户主目录下,存在.ssh目录,目录下存在id_rsa(私钥)和id_rsa.pub(公钥)这两个文件，跳过此步骤。如果不存在，打开Shell（Windows下打开Git Bash）,创建SSH Key)</div></pre></td></tr></table></figure><h4 id="添加远程仓库"><a href="#添加远程仓库" class="headerlink" title="添加远程仓库"></a>添加远程仓库</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">使用命令git remote add origin git@server-name:path/repo-name.git关联一个远程库</div><div class="line">(注：origin是远程库的名字,git的默认叫法,可改)</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">关联后,使用命令git push -u origin master第一次推送master分支的所有内容</div><div class="line">(注：由于远程库是空的,第一次推送master分支时，加上了-u参数，Git不但会把本地的master分支内容推送的远程新的master分支，还会把本地的master分支和远程的master分支关联起来，在以后的推送或者拉取时就可以简化命令,之后可直接使用git push origin master推送)</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">    强制覆盖本地文件(如果远程库与本地文件重复)</div><div class="line">    git fetch --all <span class="comment">#下载远程的库的内容</span></div><div class="line">    git reset --hard origin/master <span class="comment">#把HEAD指向刚刚下载的最新的版本</span></div><div class="line">    git pull origin master</div><div class="line">```   </div><div class="line"><span class="comment">#### 修改远程仓库</span></div><div class="line"><span class="comment">##### 通过命令直接修改远程地址</span></div><div class="line">```bash</div><div class="line">    使用命令git remote <span class="built_in">set</span>-url origin git@server-name:path/repo-name.git</div><div class="line">    修改远程库</div><div class="line">    (注：origin是远程库的名字,git的默认叫法,可改)</div></pre></td></tr></table></figure><h5 id="通过命令先删除再添加远程仓库"><a href="#通过命令先删除再添加远程仓库" class="headerlink" title="通过命令先删除再添加远程仓库"></a>通过命令先删除再添加远程仓库</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">1.git remote rm origin 删除远程仓库</div><div class="line">2.git remote add origin git@server-name:path/repo-name.git 添加远程仓库</div><div class="line">(注：origin是远程库的名字,git的默认叫法,可改)</div></pre></td></tr></table></figure><h5 id="直接修改配置文件"><a href="#直接修改配置文件" class="headerlink" title="直接修改配置文件"></a>直接修改配置文件</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">修改 [remote “origin”]下面的url即可</div></pre></td></tr></table></figure><h4 id="SSH警告"><a href="#SSH警告" class="headerlink" title="SSH警告"></a>SSH警告</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">第一次使用Git的<span class="built_in">clone</span>或者push命令连接GitHub时，会得到一个警告</div><div class="line">The authenticity of host <span class="string">'github.com (xx.xx.xx.xx)'</span> can<span class="string">'t be established.</span></div><div class="line"><span class="string">RSA key fingerprint is xx.xx.xx.xx.xx.</span></div><div class="line"><span class="string">Are you sure you want to continue connecting (yes/no)?</span></div><div class="line"><span class="string">这是因为Git使用SSH连接，而SSH连接在第一次验证GitHub服务器的Key时，需要你确认GitHub的Key的指纹信息是否真的来自GitHub的服务器，输入yes回车即可。</span></div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Git会输出一个警告，告诉你已经把GitHub的Key添加到本机的一个信任列表里了</div><div class="line">Warning: Permanently added <span class="string">'github.com'</span> (RSA) to the list of known hosts.</div><div class="line">(注：这个警告只会出现一次，后面的操作就不会有任何警告了.)</div></pre></td></tr></table></figure><h4 id="从远程库克隆"><a href="#从远程库克隆" class="headerlink" title="从远程库克隆"></a>从远程库克隆</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">使用git <span class="built_in">clone</span> git@server-name:path/repo-name.git命令克隆</div><div class="line">使用git <span class="built_in">clone</span> -b 分支名 git@server-name:path/repo-name.git命令克隆指定分支</div><div class="line">(注：Git支持多种协议，默认的git://使用ssh，但也可以使用https等其他协议)</div></pre></td></tr></table></figure><h3 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h3><h4 id="创建与合并分支"><a href="#创建与合并分支" class="headerlink" title="创建与合并分支"></a>创建与合并分支</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">    查看分支：git branch</div><div class="line">    创建分支：git branch &lt;name&gt;</div><div class="line">    切换分支：git checkout &lt;name&gt;</div><div class="line">    创建+切换分支：git checkout -b &lt;name&gt;</div><div class="line">    合并某分支到当前分支：git merge &lt;name&gt;</div><div class="line">    删除分支：git branch -d &lt;name&gt;</div><div class="line">```   </div><div class="line"><span class="comment">#### 解决冲突</span></div><div class="line">```bash</div><div class="line">    当Git无法自动合并分支时，就必须首先解决冲突。解决冲突后，再提交，合并完成。</div><div class="line">    用git <span class="built_in">log</span> --graph(git <span class="built_in">log</span> --graph --pretty=oneline --abbrev-commit)命令可以看到分支合并图</div></pre></td></tr></table></figure><h4 id="分支管理策略-合并分支时Git会用Fast-forward模式-这种模式下-删除分支后-会丢掉分支信息"><a href="#分支管理策略-合并分支时Git会用Fast-forward模式-这种模式下-删除分支后-会丢掉分支信息" class="headerlink" title="分支管理策略(合并分支时Git会用Fast forward模式,这种模式下,删除分支后,会丢掉分支信息)"></a>分支管理策略(合并分支时Git会用Fast forward模式,这种模式下,删除分支后,会丢掉分支信息)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">切换回master分支,并使用命令git merge --no-ff -m <span class="string">"merge with no-ff"</span> &lt;name&gt;合并分支</div><div class="line">(准备合并分支时,强制禁用Fast forward模式,请使用--no-ff参数;因为本次合并要创建一个新的commit，所以加上-m参数，把commit描述写进去)</div></pre></td></tr></table></figure><h4 id="Bug分支"><a href="#Bug分支" class="headerlink" title="Bug分支"></a>Bug分支</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">使用命令git stash,可以把当前工作现场“储藏”起来,修复完bug后,再git stash pop,回到工作现场</div><div class="line">使用命令git stash list查看stash内容,恢复指定的stash,用命令git stash apply stash@&#123;0&#125;</div><div class="line">(注:用git stash apply恢复,stash内容并不删除,还需用git stash drop来删除;用git stash pop,恢复的同时把储藏的stash内容也删除)</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">例:1.储藏当前工作现场(dev分支):git stash</div><div class="line">   2.切换到需要修复的bug(master)分支:git checkout master</div><div class="line">   3.从bug(master)分支创建临时分支(issue-101):git checkout -b issue-101</div><div class="line">   4.修复bug后,对修改内容进行commit提交后,切换回master分支:git checkout master</div><div class="line">   5.合并修复后的分支:git merge --no-ff -m <span class="string">"merged bug fix 101"</span> issue-101</div><div class="line">   6.删除issue-101分支:git branch -d issue-101</div><div class="line">   7.切换回工作现场:git checkout dev</div><div class="line">   8.查看stash内容:git stash list</div><div class="line">   9.恢复stash内容:git stash pop(或者用命令git stash apply stash@&#123;0&#125;恢复指定stash,但要用git stash drop删除stash内容)</div></pre></td></tr></table></figure><h4 id="Feature分支"><a href="#Feature分支" class="headerlink" title="Feature分支"></a>Feature分支</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">丢弃一个没有被合并过的分支,通过git branch -D &lt;name&gt;强行删除</div><div class="line">(注:git branch -d &lt;name&gt;只能删除合并后的分支)</div></pre></td></tr></table></figure><h4 id="多人协作"><a href="#多人协作" class="headerlink" title="多人协作"></a>多人协作</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">查看远程库的信息用git remote -v(注:会显示可以抓取和推送的远程库地址,如果没有推送权限,就看不到push的地址)</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">从本地推送分支,使用git push origin branch-name,如果推送失败,先用git pull抓取远程的新提交</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">在本地创建和远程分支对应的分支,使用git checkout -b branch-name origin/branch-name,本地和远程分支的名称最好一致</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">建立本地分支和远程分支的关联,使用git branch --<span class="built_in">set</span>-upstream branch-name origin/branch-name</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">    从远程抓取分支,使用git pull,如果有冲突,要先处理冲突</div><div class="line">```   </div><div class="line"></div><div class="line"><span class="comment">### 标签管理</span></div><div class="line"><span class="comment">#### 创建标签</span></div><div class="line">```bash</div><div class="line">    命令git tag &lt;name&gt;用于新建一个标签,默认为HEAD,也可以指定一个commit id(git tag &lt;name&gt; commitId)</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">创建带有说明的标签,用-a指定标签名,-m指定说明文字,-s用私钥签名一个标签</div><div class="line">指定标签信息:git tag -a &lt;tagname&gt; -m <span class="string">"blablabla..."</span> commitId</div><div class="line">用私钥签名一个标签:git tag -s &lt;tagname&gt; -m <span class="string">"blablabla..."</span> commitId</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">命令git tag可以查看所有标签</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git show &lt;tagname&gt;查看标签信息</div></pre></td></tr></table></figure><h4 id="操作标签"><a href="#操作标签" class="headerlink" title="操作标签"></a>操作标签</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">推送一个本地标签:git push origin &lt;tagname&gt;</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">推送全部未推送过的本地标签:git push origin --tags</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">删除本地标签:git tag -d &lt;tagname&gt;</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">删除一个远程标签:git push origin :refs/tags/&lt;tagname&gt;</div><div class="line">(注:删除远程标签要先删除本地标签)</div></pre></td></tr></table></figure><h4 id="配置别名"><a href="#配置别名" class="headerlink" title="配置别名"></a>配置别名</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git config --global <span class="built_in">alias</span>.别名 checkout</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">例:</div><div class="line">    配置git co,切换分支:git config --global alias.co checkout</div><div class="line">    配置git ci,提交说明:git config --global alias.ci commit</div><div class="line">    配置git br,显示分支信息:git config --global alias.br branch</div><div class="line">    配置git last,让其显示最后一次提交信息:git config --global alias.last <span class="string">'log -1'</span></div><div class="line">    配置git lg:git config --global alias.lg <span class="string">"log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit"</span></div></pre></td></tr></table></figure><!--more-->]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;在Liunx上安装Git&quot;&gt;&lt;a href=&quot;#在Liunx上安装Git&quot; class=&quot;headerlink&quot; title=&quot;在Liunx上安装Git&quot;&gt;&lt;/a&gt;在Liunx上安装Git&lt;/h2&gt;&lt;p&gt;Ubuntu安装:&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;sudo apt-get install git&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Centos安装:&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;sudo yum install git&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;在Windows上安装Git&quot;&gt;&lt;a href=&quot;#在Windows上安装Git&quot; class=&quot;headerlink&quot; title=&quot;在Windows上安装Git&quot;&gt;&lt;/a&gt;在Windows上安装Git&lt;/h2&gt;&lt;p&gt;前往&lt;a href=&quot;https://git-for-windows.github.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;git Download&lt;/a&gt;下载&lt;/p&gt;
&lt;p&gt;安装完成后，在开始菜单里找到“Git”-&amp;gt;“Git Bash”，在命令行输入:&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ git config --global user.name &lt;span class=&quot;string&quot;&gt;&quot;your name&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ git config --global user.email &lt;span class=&quot;string&quot;&gt;&quot;email@example.com&quot;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="笔记" scheme="http://guowupeng.com/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="随笔" scheme="http://guowupeng.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>MySQL中Binary Log二进制日志文件的基本操作命令小结</title>
    <link href="http://guowupeng.com/2017/02/22/MySQL%E4%B8%ADBinary%20Log%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4%E5%B0%8F%E7%BB%93/"/>
    <id>http://guowupeng.com/2017/02/22/MySQL中Binary Log二进制日志文件的基本操作命令小结/</id>
    <published>2017-02-22T10:36:23.000Z</published>
    <updated>2017-10-19T07:33:59.785Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>MySQL Binary Log也就是常说的bin-log,是mysql执行改动产生的二进制日志文件,其主要作用有两个: </p><ul><li style="list-style: none"><input type="checkbox" checked> 数据恢复 </li><li style="list-style: none"><input type="checkbox" checked> 主从数据库。用于slave端执行增删改，保持与master同步。</li></ul><a id="more"></a><h2 id="准备工作-开启binary-log功能"><a href="#准备工作-开启binary-log功能" class="headerlink" title="准备工作(开启binary log功能)"></a>准备工作(开启binary log功能)</h2><ul><li style="list-style: none"><input type="checkbox" checked> 修改mysql的配置文件,添加一句log_bin = mysql_bin即可</li></ul><h2 id="二进制日志相关演示"><a href="#二进制日志相关演示" class="headerlink" title="二进制日志相关演示"></a>二进制日志相关演示</h2><h3 id="启用二进制日志"><a href="#启用二进制日志" class="headerlink" title="启用二进制日志"></a>启用二进制日志</h3><h4 id="当前环境"><a href="#当前环境" class="headerlink" title="当前环境"></a>当前环境</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">mysql&gt; show variables like <span class="string">'%version%'</span>;  </div><div class="line">+-------------------------+------------------------------+</div><div class="line">| Variable_name           | Value                        |</div><div class="line">+-------------------------+------------------------------+</div><div class="line">| innodb_version          | 5.5.53                       |</div><div class="line">| protocol_version        | 10                           |</div><div class="line">| slave_type_conversions  |                              |</div><div class="line">| version                 | 5.5.53-log                   |</div><div class="line">| version_comment         | MySQL Community Server (GPL) |</div><div class="line">| version_compile_machine | AMD64                        |</div><div class="line">| version_compile_os      | Win32                        |</div><div class="line">+-------------------------+------------------------------+</div><div class="line"></div><div class="line">mysql&gt; show variables like <span class="string">'%log_bin%'</span>;</div><div class="line">+---------------------------------+-------+</div><div class="line">| Variable_name                   | Value |</div><div class="line">+---------------------------------+-------+</div><div class="line">| log_bin                         | ON    | --该参数用于设定是否启用二进制日志</div><div class="line">| log_bin_trust_function_creators | OFF   |</div><div class="line">| sql_log_bin                     | ON    |</div><div class="line">+---------------------------------+-------+</div></pre></td></tr></table></figure><h4 id="以下为binary-log相关参数"><a href="#以下为binary-log相关参数" class="headerlink" title="以下为binary log相关参数"></a>以下为binary log相关参数</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">mysql&gt; show variables like <span class="string">'%binlog%'</span>;</div><div class="line">+-----------------------------------------+----------------------+</div><div class="line">| Variable_name                           | Value                |</div><div class="line">+-----------------------------------------+----------------------+</div><div class="line">| binlog_cache_size                       | 32768                |</div><div class="line">| binlog_direct_non_transactional_updates | OFF                  |</div><div class="line">| binlog_format                           | STATEMENT            |</div><div class="line">| binlog_stmt_cache_size                  | 32768                |</div><div class="line">| innodb_locks_unsafe_for_binlog          | OFF                  |</div><div class="line">| max_binlog_cache_size                   | 18446744073709547520 |</div><div class="line">| max_binlog_size                         | 1073741824           |</div><div class="line">| max_binlog_stmt_cache_size              | 18446744073709547520 |</div><div class="line">| sync_binlog                             | 0                    |</div><div class="line">+-----------------------------------------+----------------------+</div></pre></td></tr></table></figure><h4 id="当前mysql服务器数据文件的缺省位置"><a href="#当前mysql服务器数据文件的缺省位置" class="headerlink" title="当前mysql服务器数据文件的缺省位置"></a>当前mysql服务器数据文件的缺省位置</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">mysql&gt; show variables like <span class="string">'%datadir%'</span>;  </div><div class="line">+---------------+-------------------------+</div><div class="line">| Variable_name | Value                   |</div><div class="line">+---------------+-------------------------+</div><div class="line">| datadir       | D:\phpStudy\MySQL\data\ |</div><div class="line">+---------------+-------------------------+</div></pre></td></tr></table></figure><h3 id="使用命令行工具mysqlbinlog直接提取二进制日志的内容"><a href="#使用命令行工具mysqlbinlog直接提取二进制日志的内容" class="headerlink" title="使用命令行工具mysqlbinlog直接提取二进制日志的内容"></a>使用命令行工具mysqlbinlog直接提取二进制日志的内容</h3><h4 id="查看产生的binary-log"><a href="#查看产生的binary-log" class="headerlink" title="查看产生的binary log"></a>查看产生的binary log</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; show binary logs; </div><div class="line">+------------------+-----------+  </div><div class="line">| Log_name      | File_size |  </div><div class="line">+------------------+-----------+   </div><div class="line">| mysql_bin.000001 |       147 |  </div><div class="line">| mysql_bin.000002 |       147 |  </div><div class="line">| mysql_bin.000003 |       147 |  </div><div class="line">| mysql_bin.000004 |       498 |  </div><div class="line">+------------------+-----------+</div></pre></td></tr></table></figure><h4 id="利用bin-log恢复数据"><a href="#利用bin-log恢复数据" class="headerlink" title="利用bin_log恢复数据"></a>利用bin_log恢复数据</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#最常用的就是恢复指定数据端的数据了，可以直接恢复到数据库中</span></div><div class="line">mysqlbinlog  --start-date=<span class="string">"2012-10-15 16:30:00"</span> --stop-date=<span class="string">"2012-10-15 17:00:00"</span> mysql_bin.000001 |mysql -uroot -p123456</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#亦可导出为sql文件，再导入至数据库中：</span></div><div class="line">mysqlbinlog --start-date=<span class="string">"2012-10-15 16:30:00"</span> --stop-date=<span class="string">"2012-10-15 17:00:00"</span> mysql_bin.000001 &gt; d:\000001.sql</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#指定开始\结束位置，从上面的查看产生的binary log我们可以知道某个log的开始到结束的位置，我们可以在恢复的过程中指定回复从A位置到B位置的log.需要用下面两个参数来指定：</span></div><div class="line">   --start-positon=<span class="string">"50"</span> //指定从50位置开始</div><div class="line">   --stop-postion=<span class="string">"100"</span>//指定到100位置结束</div></pre></td></tr></table></figure><h3 id="bin-log的操作"><a href="#bin-log的操作" class="headerlink" title="bin_log的操作"></a>bin_log的操作</h3><h4 id="查看最后一个bin日志文件是那个-现在位置"><a href="#查看最后一个bin日志文件是那个-现在位置" class="headerlink" title="查看最后一个bin日志文件是那个,现在位置"></a>查看最后一个bin日志文件是那个,现在位置</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">mysql&gt; show master status;</div><div class="line">+------------------+----------+--------------+------------------+</div><div class="line">| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB |</div><div class="line">+------------------+----------+--------------+------------------+</div><div class="line">| mysql_bin.000025 |      686 |              |                  |</div><div class="line">+------------------+----------+--------------+------------------+</div></pre></td></tr></table></figure><h4 id="启用新的日志文件-一般备份完数据库后执行"><a href="#启用新的日志文件-一般备份完数据库后执行" class="headerlink" title="启用新的日志文件,一般备份完数据库后执行"></a>启用新的日志文件,一般备份完数据库后执行</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; flush logs;</div><div class="line">Query OK, 0 rows affected</div><div class="line"></div><div class="line">mysql&gt; show master status;</div><div class="line">+------------------+----------+--------------+------------------+</div><div class="line">| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB |</div><div class="line">+------------------+----------+--------------+------------------+</div><div class="line">| mysql_bin.000026 |      107 |              |                  |</div><div class="line">+------------------+----------+--------------+------------------+</div></pre></td></tr></table></figure><h4 id="清空现有的所用bin-log"><a href="#清空现有的所用bin-log" class="headerlink" title="清空现有的所用bin-log"></a>清空现有的所用bin-log</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">mysql&gt; show master status;</div><div class="line">+------------------+----------+--------------+------------------+</div><div class="line">| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB |</div><div class="line">+------------------+----------+--------------+------------------+</div><div class="line">| mysql_bin.000026 |      107 |              |                  |</div><div class="line">+------------------+----------+--------------+------------------+</div><div class="line"></div><div class="line">mysql&gt; reset master;</div><div class="line">Query OK, 0 rows affected</div><div class="line"></div><div class="line">mysql&gt; show master status;</div><div class="line">+------------------+----------+--------------+------------------+</div><div class="line">| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB |</div><div class="line">+------------------+----------+--------------+------------------+</div><div class="line">| mysql_bin.000001 |      107 |              |                  |</div><div class="line">+------------------+----------+--------------+------------------+</div></pre></td></tr></table></figure><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><h3 id="MySQL-mysqlbinlog-查看binlog时报错unknown-variable-‘default-character-set-utf8’解决"><a href="#MySQL-mysqlbinlog-查看binlog时报错unknown-variable-‘default-character-set-utf8’解决" class="headerlink" title="MySQL mysqlbinlog 查看binlog时报错unknown variable ‘default-character-set=utf8’解决"></a>MySQL mysqlbinlog 查看binlog时报错unknown variable ‘default-character-set=utf8’解决</h3><h4 id="1-问题描述"><a href="#1-问题描述" class="headerlink" title="1.问题描述"></a>1.问题描述</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysqlbinlog: unknown variable <span class="string">'default-character-set=utf8'</span></div></pre></td></tr></table></figure><h4 id="2-原因"><a href="#2-原因" class="headerlink" title="2.原因"></a>2.原因</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysqlbinlog这个工具无法识别binlog中的配置中的default-character-set=utf8这个指令</div></pre></td></tr></table></figure><h4 id="3-解决方法"><a href="#3-解决方法" class="headerlink" title="3.解决方法"></a>3.解决方法</h4><h5 id="1-修改配置文件-—永久生效"><a href="#1-修改配置文件-—永久生效" class="headerlink" title="1.修改配置文件 —永久生效"></a>1.修改配置文件 —永久生效</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">windows环境下的my.ini或linux环境下的/etc/my.cnf</div><div class="line">[client]</div><div class="line">#设置MySQL客户端的字符集</div><div class="line">default-character-set=utf8</div><div class="line">把client下的default-character-set=utf8修改成character-set-server = utf8</div><div class="line">然后重启生效</div></pre></td></tr></table></figure><h5 id="2-无需重启环境"><a href="#2-无需重启环境" class="headerlink" title="2.无需重启环境"></a>2.无需重启环境</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">使用--no-defaults</div><div class="line">mysqlbinlog --no-defaults  mysql-bin.000001</div></pre></td></tr></table></figure><!--more-->]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;MySQL Binary Log也就是常说的bin-log,是mysql执行改动产生的二进制日志文件,其主要作用有两个: &lt;/p&gt;
&lt;ul&gt;
&lt;li style=&quot;list-style: none&quot;&gt;&lt;input type=&quot;checkbox&quot; checked&gt; 数据恢复 &lt;/li&gt;
&lt;li style=&quot;list-style: none&quot;&gt;&lt;input type=&quot;checkbox&quot; checked&gt; 主从数据库。用于slave端执行增删改，保持与master同步。&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="笔记" scheme="http://guowupeng.com/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="随笔" scheme="http://guowupeng.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>Yii2 RESTful API开发</title>
    <link href="http://guowupeng.com/2016/10/01/Yii2%20RESTful%20API%E5%BC%80%E5%8F%91/"/>
    <id>http://guowupeng.com/2016/10/01/Yii2 RESTful API开发/</id>
    <published>2016-10-01T06:37:52.000Z</published>
    <updated>2017-12-09T12:48:18.401Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Yii 是一个适用于开发 Web2.0 应用程序的高性能 PHP 框架，帮助Web开发人员建立复杂的应用程序，可以减少开发时间</p><a id="more"></a><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ul><li style="list-style: none"><input type="checkbox" checked> 安装 <a href="http://getcomposer.org/doc/00-intro.md#installation-nix" target="_blank" rel="external">Composer</a>管理依赖关系工具</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">安装完Composer，修改 composer 的全局配置文件(使用中国镜像)</div><div class="line"></div><div class="line">composer config -g repo.packagist composer https://packagist.phpcomposer.com</div><div class="line"></div><div class="line">运行下面的命令来安装Composer Asset插件:</div><div class="line"></div><div class="line">composer global require <span class="string">"fxp/composer-asset-plugin:^1.2.0"</span></div></pre></td></tr></table></figure><h3 id="安装Yii2-0"><a href="#安装Yii2-0" class="headerlink" title="安装Yii2.0"></a>安装Yii2.0</h3><h4 id="通过-Composer-安装"><a href="#通过-Composer-安装" class="headerlink" title="通过 Composer 安装"></a>通过 Composer 安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">安装最新的高级的应用程序模板(命名为advanced目录):</div><div class="line">composer create-project yiisoft/yii2-app-advanced advanced</div></pre></td></tr></table></figure><h4 id="从归档文件安装"><a href="#从归档文件安装" class="headerlink" title="从归档文件安装"></a>从归档文件安装</h4><hr><ul><li style="list-style: none"><input type="checkbox" checked> 先去Yii<a href="http://www.yiiframework.com/download/" target="_blank" rel="external">官网</a>下载一份Yii的高级模版</li></ul><p><img src="http://ovxuqcxth.bkt.clouddn.com/yii2_install.png" alt="image"></p><h4 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">1. 把php.exe加入系统环境变量</div><div class="line"></div><div class="line">2. 右击我的电脑-属性-高级-环境变量</div><div class="line"></div><div class="line">3. 找到 Path 这一项（可能需要向下滚动才能找到），鼠标双击 Path 这一项，在最后加入你的 PHP 目录和类库所在的路径，包括前面的“;”（例如 ：D:\phpStudy\php\php-5.6.27-nts）</div><div class="line"></div><div class="line">4. 点击“新建”按钮并在“变量名”中输入“PHPRC”，在“变量值”中输入 php.ini 文件所在的目录（例如：D:\phpStudy\php\php-5.6.27-nts） ,这个步骤是为了让windows找到php.ini</div><div class="line"></div><div class="line">5. 运行CMD 进入安装目录中，执行init或在安装目录中运行init.bat，选择 0 开发模式进行安装</div><div class="line"></div><div class="line">【注：yii2执行init提示openssl问题，php没加载openssl.dll，在php配置文件里，将默认的注释去掉。】</div></pre></td></tr></table></figure><ul><li style="list-style: none"><input type="checkbox" checked> 新建数据库 advanced，然后新建 user 用户表<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">CREATE TABLE `user` (</div><div class="line">`id` int(11) NOT NULL AUTO_INCREMENT COMMENT <span class="string">"自增ID"</span>,  </div><div class="line">`username` varchar(255) NOT NULL COMMENT <span class="string">"用户名"</span>,  </div><div class="line">`auth_key` varchar(32) NOT NULL COMMENT <span class="string">"自动登录key"</span>,  </div><div class="line">`password_hash` varchar(255) NOT NULL COMMENT <span class="string">"加密密码"</span>,  </div><div class="line">`password_reset_token` varchar(255) DEFAULT NULL COMMENT <span class="string">"重置密码token"</span>,  </div><div class="line">`email` varchar(255) NOT NULL COMMENT <span class="string">"邮箱"</span>,  </div><div class="line">`role` smallint(6) NOT NULL DEFAULT <span class="string">"10"</span> COMMENT <span class="string">"角色等级"</span>,  </div><div class="line">`status` smallint(6) NOT NULL DEFAULT <span class="string">"10"</span> COMMENT <span class="string">"状态"</span>,  </div><div class="line">`created_at` int(11) NOT NULL COMMENT <span class="string">"创建时间"</span>,  </div><div class="line">`updated_at` int(11) NOT NULL COMMENT <span class="string">"更新时间"</span>,  </div><div class="line">PRIMARY KEY (`id`)</div><div class="line">) ENGINE=InnoDB AUTO_INCREMENT=0 DEFAULT CHARSET=utf8 COMMENT=<span class="string">"用户表"</span>;</div><div class="line"></div><div class="line">配置数据库文件 advanced/common/main-local.php，输入数据库账号和密码</div></pre></td></tr></table></figure></li></ul><h4 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h4><ul><li style="list-style: none"><input type="checkbox" checked> 将文件放到web可访问目录，文件名advanced，打开得到如下图所示的目录<br><img src="http://ovxuqcxth.bkt.clouddn.com/yii2%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.png" alt="image"></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">目录结构的介绍就不在这里详细说明了，我们主要认识的是三个目录 ==backend==（后台）、==common==(公用)、 ==frontend==（前台）。</div><div class="line"></div><div class="line">【注:通过composer安装倘若目录结构没有vendor核心文件,进入目录文件使用composer update 命令更新核心文件】</div></pre></td></tr></table></figure><h4 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h4><ul><li style="list-style: none"><input type="checkbox" checked> 打开浏览器访问<a href="http://localhost/advanced/frontend/web/就能看到前台界面了，http://localhost/advanced/backend/web/是后台界面（出现一个登陆界面）" target="_blank" rel="external">http://localhost/advanced/frontend/web/就能看到前台界面了，http://localhost/advanced/backend/web/是后台界面（出现一个登陆界面）</a><br><img src="http://ovxuqcxth.bkt.clouddn.com/yii%E6%A8%A1%E6%9D%BF%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F%E7%95%8C%E9%9D%A2.png" alt="前台界面"></li></ul><h3 id="安装-AdminLTE-渲染后台"><a href="#安装-AdminLTE-渲染后台" class="headerlink" title="安装 AdminLTE 渲染后台"></a>安装 AdminLTE 渲染后台</h3><h4 id="利用-AdminLTE-渲染后台模板"><a href="#利用-AdminLTE-渲染后台模板" class="headerlink" title="利用 AdminLTE 渲染后台模板"></a>利用 AdminLTE 渲染后台模板</h4><ul><li><p>[x] 进入 cmd，切换到 advanced 目录，输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">composer require dmstr/yii2-adminlte-asset <span class="string">"2.*"</span></div><div class="line"></div><div class="line">注:phpstorm集成开发工具按快捷键Ctrl + Shift + X 运行命令行</div></pre></td></tr></table></figure></li><li><p>[x] 安装过程如提示输入 Token,解决办法为进入<a href="https://github.com/settings/tokens" target="_blank" rel="external">github</a>,设置个人令牌</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">点击 「Generate new token」 新建一个 Token，选择默认新建就行，然后就会得到一个 Token，然后输入这个值就 OK 了。</div></pre></td></tr></table></figure></li><li><p>[x] 输入Token报如下错误</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Installation failed, reverting ./composer.json to its original content.</div><div class="line">        </div><div class="line">  [Composer\Repository\InvalidRepositoryException]                                                                     </div><div class="line">  No valid bower.json was found <span class="keyword">in</span> any branch or tag of https://github.com/DmitryBaranovskiy/eve.git, could not load   </div><div class="line">  a package from it.</div></pre></td></tr></table></figure></li><li><p>[x] 解决办法为直接编辑advanced文件夹composer.json文件,然后添加github的授权,将</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="string">"config"</span>: &#123;</div><div class="line">        <span class="string">"process-timeout"</span>: 1800</div><div class="line">    &#125;,</div><div class="line"></div><div class="line">改为</div><div class="line"></div><div class="line"><span class="string">"config"</span>: &#123;</div><div class="line">        <span class="string">"process-timeout"</span>: 1800,</div><div class="line">        <span class="string">"github-oauth"</span>: &#123;</div><div class="line">          <span class="string">"github.com"</span>: <span class="string">"此处输入您的github授权码"</span></div><div class="line">          &#125;</div><div class="line">    &#125;,</div></pre></td></tr></table></figure></li></ul><h4 id="url-美化"><a href="#url-美化" class="headerlink" title="url 美化"></a>url 美化</h4><ul><li><p>[x] 配置：backend/config/main.php 文件的 compontents</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="string">"urlManager"</span> =&gt; [</div><div class="line">    <span class="string">"enablePrettyUrl"</span> =&gt; <span class="literal">true</span>,//用于表明 urlManager 是否启用URL美化功能</div><div class="line">    <span class="string">"showScriptName"</span> =&gt; <span class="literal">false</span>,// 是否在URL中显示入口脚本</div><div class="line">],</div></pre></td></tr></table></figure></li><li><p>[x] 下载 .htaccess 文件，放在 backend/web 目录下（这是为了隐藏 Index.php，apache必须要开启rewrite模块）</p></li></ul><h4 id="安装-yii2-admin-集成-rbac"><a href="#安装-yii2-admin-集成-rbac" class="headerlink" title="安装 yii2-admin 集成 rbac"></a>安装 yii2-admin 集成 rbac</h4><ul><li><p>[x] 进入 cmd，切换到 advanced 目录，输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">composer require mdmsoft/yii2-admin <span class="string">"2.x-dev"</span></div></pre></td></tr></table></figure></li><li><p>[x] 配置 backend/config/main.php 文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="string">"modules"</span> =&gt; [</div><div class="line">    <span class="string">"admin"</span> =&gt; [</div><div class="line">        <span class="string">"class"</span> =&gt; <span class="string">"mdm\admin\Module"</span>,</div><div class="line">    ],</div><div class="line">],</div><div class="line"><span class="string">"aliases"</span> =&gt; [</div><div class="line">    <span class="string">"@mdm/admin"</span> =&gt; <span class="string">"@vendor/mdmsoft/yii2-admin"</span>,</div><div class="line">],</div><div class="line"><span class="string">'as access'</span> =&gt; [</div><div class="line">    <span class="string">'class'</span> =&gt; <span class="string">'mdm\admin\components\AccessControl'</span>,</div><div class="line">    <span class="string">'allowActions'</span> =&gt; [</div><div class="line">        //这里是允许访问的action</div><div class="line">        //controller/action</div><div class="line">    // * 表示允许所有，后期会介绍这个</div><div class="line">        <span class="string">'*'</span></div><div class="line">    ]</div><div class="line">],</div><div class="line"><span class="string">'components'</span> =&gt; [</div><div class="line">    <span class="string">"authManager"</span> =&gt; [</div><div class="line">        <span class="string">"class"</span> =&gt; <span class="string">'yii\rbac\DbManager'</span>,</div><div class="line">        <span class="string">"defaultRoles"</span> =&gt; [<span class="string">"guest"</span>],</div><div class="line">    ],</div><div class="line">],</div></pre></td></tr></table></figure></li><li><p>[x] 导入 rbac 表格</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">执行.sql 文件：vendor/yiisoft/yii2/rbac/migrations/schema-mysql.sql</div></pre></td></tr></table></figure></li></ul><!--more-->]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;Yii 是一个适用于开发 Web2.0 应用程序的高性能 PHP 框架，帮助Web开发人员建立复杂的应用程序，可以减少开发时间&lt;/p&gt;
    
    </summary>
    
      <category term="笔记" scheme="http://guowupeng.com/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="随笔" scheme="http://guowupeng.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>yii2安装教程</title>
    <link href="http://guowupeng.com/2016/10/01/yii2%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/"/>
    <id>http://guowupeng.com/2016/10/01/yii2安装教程/</id>
    <published>2016-10-01T06:37:52.000Z</published>
    <updated>2017-10-19T07:42:23.382Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Yii 是一个适用于开发 Web2.0 应用程序的高性能 PHP 框架，帮助Web开发人员建立复杂的应用程序，可以减少开发时间</p><a id="more"></a><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ul><li style="list-style: none"><input type="checkbox" checked> 先去Yii官网(<a href="http://www.yiiframework.com/download/)下载一份Yii的高级模版" target="_blank" rel="external">http://www.yiiframework.com/download/)下载一份Yii的高级模版</a><br><img src="http://ovxuqcxth.bkt.clouddn.com/yii2_install.png" alt="image"></li><li style="list-style: none"><input type="checkbox" checked> 将下载下来的文件解压放到web可访问目录，文件名advanced，打开得到如下图所示的目录<br><img src="http://ovxuqcxth.bkt.clouddn.com/yii2%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.png" alt="image"></li><li style="list-style: none"><input type="checkbox" checked> 目录结构的介绍就不在这里详细说明了，我们主要认识的是三个目录 ==backend==（后台）、==common==(公用)、 ==frontend==（前台）。</li></ul><h2 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">1. 把php.exe加入系统环境变量</div><div class="line"></div><div class="line">2. 右击我的电脑-属性-高级-环境变量</div><div class="line"></div><div class="line">3. 找到 Path 这一项（可能需要向下滚动才能找到），鼠标双击 Path 这一项，在最后加入你的 PHP 目录和类库所在的路径，包括前面的“;”（例如 ：D:\phpStudy\php\php-5.6.27-nts）</div><div class="line"></div><div class="line">4. 点击“新建”按钮并在“变量名”中输入“PHPRC”，在“变量值”中输入 php.ini 文件所在的目录（例如：D:\phpStudy\php\php-5.6.27-nts） ,这个步骤是为了让windows找到php.ini</div><div class="line"></div><div class="line">5. 运行CMD 进入安装目录中，执行init或在安装目录中运行init.bat，选择 0 开发模式进行安装</div><div class="line"></div><div class="line">【注意：yii2执行init提示openssl问题，php没加载openssl.dll，在php配置文件里，将默认的注释去掉。】</div></pre></td></tr></table></figure><h2 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h2><ul><li style="list-style: none"><input type="checkbox" checked> 打开浏览器访问<a href="http://localhost/advanced/frontend/web/就能看到前台界面了，http://localhost/advanced/backend/web/是后台界面（出现一个登陆界面）" target="_blank" rel="external">http://localhost/advanced/frontend/web/就能看到前台界面了，http://localhost/advanced/backend/web/是后台界面（出现一个登陆界面）</a><br><img src="http://ovxuqcxth.bkt.clouddn.com/yii%E6%A8%A1%E6%9D%BF%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F%E7%95%8C%E9%9D%A2.png" alt="前台界面"><!--more--></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;Yii 是一个适用于开发 Web2.0 应用程序的高性能 PHP 框架，帮助Web开发人员建立复杂的应用程序，可以减少开发时间&lt;/p&gt;
    
    </summary>
    
      <category term="笔记" scheme="http://guowupeng.com/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="随笔" scheme="http://guowupeng.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>Liunx随笔</title>
    <link href="http://guowupeng.com/2016/08/10/Liunx%E9%9A%8F%E7%AC%94/"/>
    <id>http://guowupeng.com/2016/08/10/Liunx随笔/</id>
    <published>2016-08-10T05:04:50.000Z</published>
    <updated>2017-09-21T02:15:10.423Z</updated>
    
    <content type="html"><![CDATA[<h2 id="网站根目录权限遵循"><a href="#网站根目录权限遵循" class="headerlink" title="网站根目录权限遵循"></a>网站根目录权限遵循</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">文件 644， 文件夹 755 ，权限用户和用户组www </div><div class="line">如出现文件权限问题时，请执行下面 3  条命令：</div><div class="line">chown -R www.www /data/wwwroot/</div><div class="line">find /data/wwwroot/ -<span class="built_in">type</span> d -<span class="built_in">exec</span> chmod 755 &#123;&#125; \;</div><div class="line">find /data/wwwroot/ -<span class="built_in">type</span> f -<span class="built_in">exec</span> chmod 644 &#123;&#125; \;</div></pre></td></tr></table></figure><a id="more"></a><!--more-->]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;网站根目录权限遵循&quot;&gt;&lt;a href=&quot;#网站根目录权限遵循&quot; class=&quot;headerlink&quot; title=&quot;网站根目录权限遵循&quot;&gt;&lt;/a&gt;网站根目录权限遵循&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;文件 644， 文件夹 755 ，权限用户和用户组www &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;如出现文件权限问题时，请执行下面 3  条命令：&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;chown -R www.www /data/wwwroot/&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;find /data/wwwroot/ -&lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt; d -&lt;span class=&quot;built_in&quot;&gt;exec&lt;/span&gt; chmod 755 &amp;#123;&amp;#125; \;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;find /data/wwwroot/ -&lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt; f -&lt;span class=&quot;built_in&quot;&gt;exec&lt;/span&gt; chmod 644 &amp;#123;&amp;#125; \;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Liunx" scheme="http://guowupeng.com/categories/Liunx/"/>
    
    
      <category term="随笔" scheme="http://guowupeng.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>HEXO搭建个人博客(笔记)</title>
    <link href="http://guowupeng.com/2016/05/20/HEXO%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    <id>http://guowupeng.com/2016/05/20/HEXO搭建个人博客/</id>
    <published>2016-05-20T02:00:00.000Z</published>
    <updated>2017-12-09T12:48:50.044Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>博客对每个人的作用不一样,<br>有的是为了对自我成长的一个记录,<br>有的是为了将其当做展示自我平台,<br>不管怎么说,通过这个平台,可以结交很多的博友,并在博友之间提高自己的影响力！</p><p><img src="/assets/images/diary-2.jpg" alt="枫林"></p><a id="more"></a><p>hexo常用的命令,#后面为注释<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">$ <span class="string">'hexo g'</span> <span class="comment">#完整命令为hexo generate，用于生成静态文件</span></div><div class="line">$ <span class="string">'hexo s'</span> <span class="comment">#完整命令为hexo server，用于启动服务器，主要用来本地预览</span></div><div class="line">$ <span class="string">'hexo d'</span> <span class="comment">#完整命令为hexo deploy，用于将本地文件发布到github上</span></div><div class="line">$ <span class="string">'hexo n'</span> <span class="comment">#完整命令为hexo new，用于新建一篇文章</span></div><div class="line">$ <span class="string">'hexo new "postName"'</span> <span class="comment">#新建文章</span></div><div class="line">$ <span class="string">'hexo new page "pageName"'</span> <span class="comment">#新建页面</span></div><div class="line">$ <span class="string">'hexo generate'</span> <span class="comment">#生成静态页面至public目录</span></div><div class="line">$ <span class="string">'hexo help'</span>  <span class="comment">#查看帮助</span></div><div class="line">$ <span class="string">'hexo version'</span>  <span class="comment">#查看Hexo的版本</span></div></pre></td></tr></table></figure></p><h2 id="配置环境"><a href="#配置环境" class="headerlink" title="配置环境"></a>配置环境</h2><ul><li style="list-style: none"><input type="checkbox" checked> 安装Node:前往Node.js[官网]下载最新版本(<a href="https://nodejs.org/en/)安装" target="_blank" rel="external">https://nodejs.org/en/)安装</a></li><li style="list-style: none"><input type="checkbox" checked> 安装Git:前往<a href="https://git-for-windows.github.io/" target="_blank" rel="external">git Download</a>下载(安装教程配置等请自行百度)</li><li style="list-style: none"><input type="checkbox" checked> 申请GitHub账号</li></ul><h2 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h2><h3 id="安装HEXO"><a href="#安装HEXO" class="headerlink" title="安装HEXO"></a>安装HEXO</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo npm install -g hexo <span class="comment">#(ubuntu系统)</span></div><div class="line">$ npm install -g hexo-cli <span class="comment">#(windows系统)</span></div></pre></td></tr></table></figure><h3 id="初始化-创建一个文件夹，如：Blog-cd到Blog里执行hexo-init命令"><a href="#初始化-创建一个文件夹，如：Blog-cd到Blog里执行hexo-init命令" class="headerlink" title="初始化(创建一个文件夹，如：Blog,cd到Blog里执行hexo init命令)"></a>初始化(创建一个文件夹，如：Blog,cd到Blog里执行hexo init命令)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo init</div></pre></td></tr></table></figure><h3 id="文章创建步骤"><a href="#文章创建步骤" class="headerlink" title="文章创建步骤"></a>文章创建步骤</h3><h4 id="生成静态页面-继续再Blog目录下执行如下命令，生成静态页面"><a href="#生成静态页面-继续再Blog目录下执行如下命令，生成静态页面" class="headerlink" title="生成静态页面(继续再Blog目录下执行如下命令，生成静态页面)"></a>生成静态页面(继续再Blog目录下执行如下命令，生成静态页面)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure><h4 id="本地启动-启动本地服务，进行文章预览调试，命令"><a href="#本地启动-启动本地服务，进行文章预览调试，命令" class="headerlink" title="本地启动(启动本地服务，进行文章预览调试，命令)"></a>本地启动(启动本地服务，进行文章预览调试，命令)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure><h4 id="手动配置"><a href="#手动配置" class="headerlink" title="手动配置"></a>手动配置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ npm install hexo-renderer-ejs --save</div><div class="line">$ npm install hexo-renderer-stylus --save</div><div class="line">$ npm install hexo-renderer-marked --save</div></pre></td></tr></table></figure><h4 id="github需要修改配置文件-config-yml"><a href="#github需要修改配置文件-config-yml" class="headerlink" title="github需要修改配置文件_config.yml"></a>github需要修改配置文件_config.yml</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">deploy:</div><div class="line">  type: git #类型</div><div class="line">  repository: git@github.com:######/######.git #ssh路径</div><div class="line">  branch: gh-pages #分支</div></pre></td></tr></table></figure><h4 id="使用git部署命令"><a href="#使用git部署命令" class="headerlink" title="使用git部署命令"></a>使用git部署命令</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo-deployer-git --save</div></pre></td></tr></table></figure><h4 id="部署步骤-更新文章等操作每次以以下步骤进行"><a href="#部署步骤-更新文章等操作每次以以下步骤进行" class="headerlink" title="部署步骤(更新文章等操作每次以以下步骤进行)"></a>部署步骤(更新文章等操作每次以以下步骤进行)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ hexo clean</div><div class="line">$ hexo generate</div><div class="line">$ hexo deploy</div><div class="line"></div><div class="line">#或使用复合命令</div><div class="line">$ hexo deploy -g </div><div class="line">$ hexo server -g</div></pre></td></tr></table></figure><!--more-->]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;博客对每个人的作用不一样,&lt;br&gt;有的是为了对自我成长的一个记录,&lt;br&gt;有的是为了将其当做展示自我平台,&lt;br&gt;不管怎么说,通过这个平台,可以结交很多的博友,并在博友之间提高自己的影响力！&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/assets/images/diary-2.jpg&quot; alt=&quot;枫林&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="笔记" scheme="http://guowupeng.com/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="随笔" scheme="http://guowupeng.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
</feed>
